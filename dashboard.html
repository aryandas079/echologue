<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echologue | Personalize Your Sound</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --bg-blue: #020617;
            --accent-orange: rgba(249, 115, 22, 0.2);
        }

        body {
            background-color: var(--bg-blue);
            color: white;
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            /* Allow scrolling on mobile if content overflows */
            overflow-x: hidden;
            overflow-y: auto;
            min-height: 100vh;
            width: 100vw;
        }

        /* Ambient Background with Grain */
        .ambient-bg {
            position: fixed;
            inset: 0;
            z-index: -1;
            background:
                radial-gradient(circle at 75% 15%, var(--accent-orange), transparent 45%),
                radial-gradient(circle at 25% 85%, rgba(30, 58, 138, 0.4), transparent 55%),
                var(--bg-blue);
        }

        .ambient-bg::before {
            content: "";
            position: fixed;
            inset: 0;
            background-image: url("https://grainy-gradients.vercel.app/noise.svg");
            opacity: 0.06;
            pointer-events: none;
            filter: contrast(160%) brightness(110%);
        }

        /* Hyper-Rounded Logo */
        .logo-container {
            width: 40px;
            height: 40px;
            background: black;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            color: white;
            font-size: 1.4rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
        }

        @media (min-width: 768px) {
            .logo-container {
                width: 44px;
                height: 44px;
                border-radius: 14px;
                font-size: 1.6rem;
            }
        }

        .caret-blink::after {
            content: "|";
            margin-left: 4px;
            animation: blink 1s steps(2, start) infinite;
        }

        @keyframes blink {
            to {
                visibility: hidden;
            }
        }


        /* Glassmorphism with Full Rounding */
        .glass-pill {
            background: rgba(255, 255, 255, 0.04);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 2rem;
        }

        @media (min-width: 768px) {
            .glass-pill {
                border-radius: 9999px;
            }
        }

        .prompt-container {
            width: 92%;
            max-width: 950px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .prompt-container:focus-within {
            box-shadow: 0 0 40px rgba(249, 115, 22, 0.15);
            background: rgba(255, 255, 255, 0.06);
            transform: scale(1.01);
        }

        /* Custom Selects - Rounded & Clean */
        select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 0.9em;
            padding-right: 2.2rem;
            border-radius: 9999px;
        }

        .btn-generate {
            background: linear-gradient(135deg, #fb923c 0%, #f97316 100%);
            border-radius: 9999px;
            transition: all 0.3s ease;
        }

        .btn-generate:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(249, 115, 22, 0.4);
            filter: brightness(1.1);
        }

        .btn-generate:active {
            transform: translateY(0);
        }

        .mic-active {
            animation: pulse-red 1.2s infinite;
            color: #f87171 !important;
        }

        @keyframes pulse-red {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.25);
                opacity: 0.7;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .header-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 9999px;
            transition: all 0.3s ease;
        }

        .header-btn:hover {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        /* Text Input Focus */
        input:focus {
            outline: none;
        }

        /* Scrollbar styling for dropdowns */
        select option {
            background: #0f172a;
            color: white;
            padding: 10px;
        }

        /* Profile Trigger Styles */
        .profile-trigger {
            width: 40px;
            height: 40px;
            border-radius: 9999px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            background: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        @media (min-width: 768px) {
            .profile-trigger {
                width: 44px;
                height: 44px;
            }
        }
        
        .profile-trigger:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }
    </style>
</head>

<body class="flex flex-col items-center">

    <div class="ambient-bg"></div>

    <header class="w-full p-4 md:p-8 flex justify-between items-center z-50">
        <div class="flex items-center gap-2 md:gap-4 group cursor-default">
            <div class="logo-container transition-transform group-hover:rotate-6">E</div>
            <span class="text-lg md:text-2xl font-light tracking-[0.1em] md:tracking-[0.2em] uppercase">Echologue</span>
        </div>
        
        <div class="flex items-center gap-2 md:gap-4">
            <button id="profile-btn" class="profile-trigger" title="View Profile">
                <i class="fa-solid fa-user text-slate-400"></i>
            </button>

            <button onclick="window.location.href='sound.html'"
                class="header-btn px-4 md:px-6 py-2 md:py-3 text-xs md:text-sm font-semibold transition-all flex items-center gap-2 md:gap-3">
                <i class="fa-solid fa-waveform text-orange-400"></i>
                <span class="hidden xs:inline">Get Sounds</span>
                <span class="xs:hidden">Sounds</span>
            </button>
        </div>
    </header>

    <main class="flex flex-col items-center justify-center w-full px-6 text-center py-10 md:py-20 flex-grow">
        <h1 class="text-4xl md:text-7xl font-extralight mb-6 tracking-tighter leading-tight">
            What does your soul
            <span id="changing-word" class="text-orange-400 font-normal italic caret-blink">
                sound
            </span>
            like?
        </h1>
        <p class="text-slate-400 mb-10 md:mb-16 max-w-xl font-light text-base md:text-lg leading-relaxed">
            Translate your atmosphere into melody. Describe a scene or a feeling to generate your unique auditory
            fingerprint.
        </p>

        <div class="prompt-container glass-pill p-2 flex flex-col items-center gap-2">

            <div class="flex items-center justify-between md:justify-start gap-1 md:gap-2 w-full md:w-auto px-2 md:px-4">
                <div class="flex items-center gap-1">
                    <button id="random-btn" title="Randomize Prompt" class="text-slate-500 hover:text-orange-400 transition-colors p-2">
                        <i class="fa-solid fa-wand-magic-sparkles text-lg md:text-xl"></i>
                    </button>

                    <select id="genre"
                        class="bg-transparent text-xs md:text-sm border-none focus:ring-0 cursor-pointer py-3 px-2 md:px-4 text-slate-300 hover:text-white transition-colors font-medium">
                        <option value="rap">Rap</option>
                        <option value="rock">Rock</option>
                        <option value="pop">Pop</option>
                        <option value="jazz">Jazz</option>
                        <option value="lofi">Lo-fi</option>
                        <option value="electronic">Electronic</option>
                        <option value="classical">Classical</option>
                    </select>
                </div>

                <div class="h-6 w-[1px] bg-white/10 mx-1"></div>

                <select id="mood"
                    class="bg-transparent text-xs md:text-sm border-none focus:ring-0 cursor-pointer py-3 px-2 md:px-4 text-slate-300 hover:text-white transition-colors font-medium">
                    <option value="calm">Calm</option>
                    <option value="ambience">Ambience</option>
                    <option value="electric">Electric</option>
                    <option value="dark">Dark</option>
                    <option value="happy">Happy</option>
                    <option value="aggressive">Aggressive</option>
                    <option value="ethereal">Ethereal</option>
                </select>
            </div>

            <div class="relative flex-grow w-full border-t border-white/5 md:border-none">
                <input type="text" id="prompt-input" placeholder="Describe your song's story..."
                    class="w-full bg-transparent border-none focus:ring-0 py-4 md:py-5 px-6 text-lg md:text-xl font-light placeholder:text-slate-600">
                <button id="mic-btn"
                    class="absolute right-4 md:right-6 top-1/2 -translate-y-1/2 text-slate-500 hover:text-orange-400 transition-all p-2 rounded-full hover:bg-white/5">
                    <i class="fa-solid fa-microphone text-xl md:text-2xl"></i>
                </button>
            </div>

            <button id="generate-btn"
                class="btn-generate w-full md:w-auto px-10 py-4 md:py-5 font-bold text-white tracking-widest uppercase text-xs md:text-sm">
                Generate Sound
            </button>
        </div>

        <div id="status-msg"
            class="mt-8 text-[10px] md:text-sm text-slate-500 font-light opacity-0 transition-opacity tracking-[0.2em]">
            SYNCHRONIZING WITH VOICE...
        </div>
    </main>

    <footer class="py-10 text-[8px] md:text-[10px] tracking-[0.5em] uppercase text-slate-700 pointer-events-none">
        Designed by XYZ
    </footer>

    <div id="early-modal"
        class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 hidden">
        <div
            class="max-w-md w-[90%] bg-[#020617]/90 border border-white/10 rounded-3xl p-6 md:p-8 text-center shadow-2xl animate-fade-in">
            <h2 class="text-xl md:text-2xl font-light tracking-wide mb-4 text-orange-400">Early Phase</h2>
            <p class="text-slate-300 text-xs md:text-sm leading-relaxed mb-6">
                This feature is in an early development phase. The core research and learning-model
                design are underway, but sound generation isn’t live yet.
                <br><br>
                You’re seeing the blueprint — the sound comes next.
            </p>
            <button id="close-modal"
                class="mt-2 px-8 py-3 rounded-full bg-white/10 hover:bg-white/20 transition font-semibold tracking-wide text-sm">
                Got it
            </button>
        </div>
    </div>

    <div id="profile-modal"
        class="fixed inset-0 bg-black/40 backdrop-blur-md flex items-center justify-center md:items-start md:justify-start p-4 md:p-8 z-[60] hidden">
        <div class="w-full max-w-[320px] bg-[#020617]/95 border border-white/10 rounded-[30px] md:rounded-[40px] p-8 shadow-2xl animate-fade-in flex flex-col items-center">
            <div class="w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-tr from-orange-500 to-blue-600 p-[2px] mb-6">
                <div class="w-full h-full rounded-full bg-black flex items-center justify-center overflow-hidden">
                    <i class="fa-solid fa-user text-3xl md:text-4xl text-slate-500"></i>
                </div>
            </div>
            <h2 class="text-xl font-medium tracking-wide text-white mb-1">XYZ</h2>
            <p class="text-slate-500 text-[10px] tracking-widest uppercase mb-6">Pro Creator</p>
            <div class="w-full space-y-4 mb-8">
                <div class="flex flex-col gap-1 px-2">
                    <span class="text-[9px] uppercase tracking-widest text-orange-400/60">Email Address</span>
                    <span class="text-sm text-slate-300 font-light italic truncate">XYZ@example.com</span>
                </div>
                <div class="flex flex-col gap-1 px-2">
                    <span class="text-[9px] uppercase tracking-widest text-orange-400/60">Subscription</span>
                    <span class="text-sm text-slate-300 font-light">Echologue Beta Access</span>
                </div>
            </div>
            <button id="close-profile"
                class="w-full py-3 rounded-full border border-white/10 hover:bg-white/5 transition text-xs font-medium tracking-widest uppercase">
                Close
            </button>
        </div>
    </div>

    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.96); }
            to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in { animation: fadeIn 0.25s ease-out forwards; }
        @media (max-width: 400px) {
            .xs\:hidden { display: none; }
            .xs\:inline { display: inline; }
        }
    </style>

    <script>
        const micBtn = document.getElementById('mic-btn');
        const randomBtn = document.getElementById('random-btn');
        const promptInput = document.getElementById('prompt-input');
        const generateBtn = document.getElementById('generate-btn');
        const statusMsg = document.getElementById('status-msg');
        const profileBtn = document.getElementById('profile-btn');
        const profileModal = document.getElementById('profile-modal');

        // Profile Modal Logic
        profileBtn.addEventListener('click', () => {
            profileModal.classList.remove('hidden');
        });

        document.getElementById('close-profile').addEventListener('click', () => {
            profileModal.classList.add('hidden');
        });
        
        profileModal.addEventListener('click', (e) => {
            if (e.target === profileModal) profileModal.classList.add('hidden');
        });

        // Random Logic
        const randomPrompts = [
            "Rain hitting a neon-lit window in Tokyo",
            "A lonely astronaut looking at Earth from the moon",
            "Midnight jazz in a smoke-filled underground club",
            "The feeling of waking up in a field of flowers",
            "Driving through a desert at sunset with the top down",
            "A cyberpunk market busy with neon signs and steam",
            "Walking through an ancient, mystical forest at dawn",
            "Techno rhythms echoing in an abandoned warehouse",
            "The warmth of a vinyl record playing on a Sunday afternoon"
        ];
        const genres = ["rap", "rock", "pop", "jazz", "lofi", "electronic", "classical"];
        const moods = ["calm", "ambience", "electric", "dark", "happy", "aggressive", "ethereal"];

        randomBtn.addEventListener('click', () => {
            promptInput.value = randomPrompts[Math.floor(Math.random() * randomPrompts.length)];
            document.getElementById('genre').value = genres[Math.floor(Math.random() * genres.length)];
            document.getElementById('mood').value = moods[Math.floor(Math.random() * moods.length)];
            
            promptInput.classList.add('animate-pulse');
            setTimeout(() => promptInput.classList.remove('animate-pulse'), 500);
        });

        // Speech Recognition
        let recognition;
        let isListening = false;

        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.lang = 'en-US';

            recognition.onstart = () => {
                isListening = true;
                micBtn.classList.add('mic-active');
                statusMsg.style.opacity = '1';
                statusMsg.innerText = "LISTENING TO YOUR THOUGHTS...";
            };

            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                promptInput.value = transcript;
                stopListening();
            };

            recognition.onerror = () => {
                stopListening();
                statusMsg.innerText = "MIC ERROR OCCURRED";
                setTimeout(() => statusMsg.style.opacity = '0', 3000);
            };

            recognition.onend = () => stopListening();
        } else {
            micBtn.style.display = 'none';
        }

        function stopListening() {
            isListening = false;
            micBtn.classList.remove('mic-active');
            statusMsg.style.opacity = '0';
        }

        micBtn.addEventListener('click', () => {
            if (isListening) recognition.stop();
            else recognition.start();
        });

        // Generate Logic
        generateBtn.addEventListener('click', () => {
            const prompt = promptInput.value;
            if (!prompt.trim()) {
                statusMsg.innerText = "INPUT REQUIRED TO GENERATE";
                statusMsg.style.opacity = '1';
                setTimeout(() => statusMsg.style.opacity = '0', 2000);
                return;
            }

            generateBtn.innerText = "CRAFTING...";
            generateBtn.classList.add('animate-pulse');
            generateBtn.disabled = true;

            setTimeout(() => {
                generateBtn.innerText = "Generate Sound";
                generateBtn.classList.remove('animate-pulse');
                generateBtn.disabled = false;
                document.getElementById('early-modal').classList.remove('hidden');
            }, 800);
        });

        promptInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') generateBtn.click();
        });

        // Word changing animation
        const words = ["sound", "feel", "echo", "hum", "whisper", "resonate", "pulse", "sing", "vibrate", "breathe"];
        const wordSpan = document.getElementById("changing-word");
        let wordIndex = 0;
        let canChange = true;

        const changeWord = () => {
            if (!canChange) return;
            canChange = false;
            wordIndex = (wordIndex + 1) % words.length;
            wordSpan.textContent = words[wordIndex];
            setTimeout(() => { canChange = true; }, 500);
        };

        document.addEventListener("mousemove", changeWord);
        document.addEventListener("touchstart", changeWord);

        document.getElementById('close-modal').addEventListener('click', () => {
            document.getElementById('early-modal').classList.add('hidden');
        });
    </script>
</body>

</html>
